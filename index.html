<!DOCTYPE html>
<html>
<head>
    <title>Testing Site</title>
    <style>
        body {
            background-color: #f5f5f5;
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        input, textarea, div[contenteditable] {
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            margin: 10px 0;
            display: block;
            width: 300px;
        }
        textarea {
            height: 100px;
            resize: vertical;
        }
        div[contenteditable] {
            min-height: 80px;
            background-color: white;
        }
        label {
            font-weight: bold;
            margin-top: 15px;
            display: block;
        }
        .date-container {
            display: flex;
            gap: 10px;
            margin: 10px 0;
        }
        .date-container span {
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            background-color: white;
            min-width: 40px;
            text-align: center;
        }
        .date-container span:empty:before {
            content: attr(data-placeholder);
            color: #999;
        }
        .copy-row {
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        .copy-container {
            border: 2px solid #ddd;
            border-radius: 8px;
            margin: 10px 0;
            background-color: white;
            position: relative;
            width: 320px;
        }
        .copy-text {
            padding: 10px;
            line-height: 1.4;
            color: #333;
        }
        .copy-button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            position: absolute;
            top: 5px;
            right: 5px;
        }
        .copy-button:hover {
            background-color: #0056b3;
        }
        .copy-button:active {
            background-color: #004085;
        }
        .clipboard-box {
            border: 2px solid #ddd;
            border-radius: 8px;
            background-color: #fff;
            min-width: 120px;
            min-height: 40px;
            padding: 8px;
            margin: 10px 0;
            font-size: 13px;
            color: #555;
            display: flex;
            align-items: center;
            justify-content: left;
        }
    </style>
</head>
<body>
    <h1>sourabha235 testing site</h1>
    
    <label>Name</label>
    <input>
    
    <label>Bio</label>
    <textarea></textarea>
    
    <label>Essay</label>
    <div contenteditable="true">This div is editable</div>
    
    <label>Date</label>
    <div class="date-container">
        <span contenteditable="true" data-placeholder="mm" data-min="1" data-max="12">mm</span>
        <span contenteditable="true" data-placeholder="dd" data-min="1" data-max="31">dd</span>
        <span contenteditable="true" data-placeholder="yyyy">yyyy</span>
    </div>
    
    <label>Lorem Text 1</label>
    <div class="copy-row">
        <div class="copy-container" id="lorem1-container">
            <button class="copy-button" onclick="copyText(this, true)">Copy</button>
            <div class="copy-text" id="lorem1-text"></div>
        </div>
        <div class="clipboard-box" id="clipboard-box"></div>
    </div>
    
    <label>Lorem Text 2</label>
    <div class="copy-container">
        <button class="copy-button" onclick="copyText(this, false)">Copy</button>
        <div class="copy-text">Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</div>
    </div>
    
    <script>
        // Date input logic (unchanged)
        document.querySelectorAll('.date-container span').forEach(span => {
            span.addEventListener('focus', function() {
                if (this.textContent === this.getAttribute('data-placeholder')) {
                    this.textContent = '';
                }
            });
            span.addEventListener('input', function() {
                let value = this.textContent;
                let numValue = parseInt(value);
                let min = parseInt(this.getAttribute('data-min'));
                let max = parseInt(this.getAttribute('data-max'));
                if (!/^\d*$/.test(value)) {
                    this.textContent = value.replace(/\D/g, '');
                    return;
                }
                if (min && max && numValue) {
                    if (numValue > max) {
                        this.textContent = max.toString();
                        this.nextElementSibling?.focus();
                    } else if (numValue < min && value.length >= max.toString().length) {
                        this.textContent = min.toString();
                        this.nextElementSibling?.focus();
                    } else if (value.length >= 2 && this.getAttribute('data-placeholder') !== 'yyyy') {
                        this.nextElementSibling?.focus();
                    } else if (value.length >= 4 && this.getAttribute('data-placeholder') === 'yyyy') {
                        this.blur();
                    }
                }
            });
            span.addEventListener('blur', function() {
                if (this.textContent.trim() === '') {
                    this.textContent = this.getAttribute('data-placeholder');
                }
            });
        });

        // Feature 1: Generate random 64-char string for Lorem Text 1
        function randomString(length) {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            let result = '';
            for (let i = 0; i < length; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }
        const lorem1Text = randomString(10);
        document.getElementById('lorem1-text').textContent = lorem1Text;

        // Feature 2 & 3: Copy logic and clipboard box
        function copyText(button, isLorem1) {
            const textElement = button.nextElementSibling;
            const textToCopy = textElement.textContent;

            navigator.clipboard.writeText(textToCopy).then(function() {
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                button.style.backgroundColor = '#28a745';

                setTimeout(function() {
                    button.textContent = originalText;
                    button.style.backgroundColor = '#007bff';
                }, 1500);

                // Feature 3: If this is Lorem Text 1, read from clipboard and populate box
                if (isLorem1) {
                    // Read clipboard and set value in the small box
                    setTimeout(function() {
                        navigator.clipboard.readText().then(function(clipText) {
                            document.getElementById('clipboard-box').textContent = clipText;
                        });
                    }, 100); // slight delay to ensure clipboard is updated
                }
            }).catch(function(err) {
                console.error('Failed to copy text: ', err);
                button.textContent = 'Error';
                button.style.backgroundColor = '#dc3545';

                setTimeout(function() {
                    button.textContent = 'Copy';
                    button.style.backgroundColor = '#007bff';
                }, 1500);
            });
        }
    </script>
</body>
</html>
